# 🎮 스팀 리뷰 감성 분석 대시보드

이 프로젝트는 스팀(Steam) 게임 리뷰 데이터를 수집하고, 감성 분석 모델을 구축 및 평가하며, 그 결과를 시각화하는 전 과정을 지원하는 Streamlit 기반의 올인원 대시보드입니다.

## ✨ 주요 기능

-   **📥 데이터 수집**: App ID를 기반으로 특정 스팀 게임의 리뷰를 실시간으로 수집하고 CSV로 저장합니다.
-   **🤖 LLM 기반 레이블링**: 로컬 LLM(LM Studio 등)을 활용하여 수집된 리뷰에 '긍정', '부정', '중립' 감성 레이블을 자동으로 부여합니다.
-   **🏋️ 듀얼 모델 학습**: 두 가지 종류의 모델을 학습시킬 수 있습니다.
    -   **Scikit-learn (로지스틱 회귀)**: 빠르고 안정적인 전통적 머신러닝 모델.
    -   **Deep Learning (LSTM)**: 더 높은 성능을 기대할 수 있는 딥러닝 모델.
-   **🧪 상세 모델 테스트**: 학습된 모델의 성능을 두 가지 방식으로 검증합니다.
    -   **파일 전체 테스트**: 테스트용 CSV 파일 전체에 대한 성능을 `Classification Report`와 `Confusion Matrix`로 상세히 분석합니다.
    -   **실시간 텍스트 판별**: 텍스트를 직접 입력하여 모델의 판별 결과를 즉시 확인하고, LLM의 결과와 나란히 비교할 수 있습니다.
-   **🔄 피드백 루프 및 즉시 재학습**:
    -   실시간 판별 결과를 사용자가 직접 수정하여 피드백 데이터(`feedback_labeled_data.csv`)로 저장할 수 있습니다.
    -   Scikit-learn 모델의 경우, 피드백을 반영하여 **선택된 모델을 즉시 재학습**하고 덮어쓸 수 있습니다.
-   **📊 고급 시각화**:
    -   분석 결과의 감성 분포를 파이 차트로 시각화합니다.
    -   '긍정', '부정', '중립' 각 레이블에 대한 워드 클라우드를 생성하여 핵심 키워드를 파악합니다.
-   **⚙️ 3단계 불용어 관리**:
    -   **기본 불용어**: 모든 분석에 공통으로 적용되는 불용어를 UI에서 직접 관리 (`default_stop_words.json`).
    -   **게임별 불용어**: 특정 게임에만 적용되는 불용어를 별도로 관리 (`stopwords/[AppID].json`).
    -   **임시 불용어**: 시각화 시 일회성으로 사용할 불용어를 직접 입력.

## 📁 프로젝트 구조

```text
.
├── app.py                   # 메인 Streamlit 애플리케이션
├── myLangchainService.py    # LLM 연동 서비스
├── requirements.txt         # 프로젝트 의존성 라이브러리
├── default_stop_words.json  # 기본 불용어 목록
├── data/                    # 데이터 저장 폴더 (CSV)
├── models/                  # 학습된 모델 저장 폴더
├── stopwords/               # 게임별 불용어 저장 폴더
├── result/                  # 테스트 결과 저장 폴더
├── lib/                     # 핵심 로직 모듈 폴더
│   ├── steam_api.py
│   ├── data_preprocessor.py
│   ├── model_trainer.py
│   ├── keras_model_manager.py
│   └── model_tester.py
└── pages/                   # 기능별 페이지 폴더
    ├── 1_데이터 수집.py
    ├── 2_LLM 라벨링.py
    ├── 3_모델 학습 및 테스트.py
    ├── 4_시각화.py
    └── 5_불용어 관리.py

## 📖 사용 방법 (추천 워크플로우)

1.  **[데이터 수집]** 페이지에서 분석하고 싶은 게임의 App ID를 입력하여 리뷰를 수집합니다.
2.  **[LLM 레이블링]** 페이지에서 방금 수집한 `steam_reviews_*.csv` 파일을 선택하여 감성 레이블을 자동으로 생성하고, `labeled_*.csv` 파일로 저장합니다.
3.  **[불용어 관리]** 페이지에서 분석에 방해가 될 만한 공통 단어들을 '기본 불용어'에 추가하고 저장합니다.
4.  **[모델 학습]** 페이지에서 다음을 수행합니다.
    -   학습할 모델 종류(Scikit-learn 또는 LSTM)를 선택합니다.
    -   레이블링된 `labeled_*.csv` 파일(들)을 선택합니다.
    -   '데이터 분포 확인'을 통해 데이터 상태를 점검합니다.
    -   '데이터 불균형 보정' 옵션을 체크하고 '학습 시작' 버튼을 눌러 모델을 생성하고 저장합니다.
5.  **[모델 테스트]** 페이지에서 다음을 수행합니다.
    -   **파일로 전체 테스트**: 방금 학습한 모델과 `labeled_*.csv` 파일을 선택하여 모델의 전반적인 성능(정확도, f1-score 등)을 확인합니다.
    -   **텍스트 직접 입력 테스트**: 모델을 선택하고, 특정 리뷰 문장을 입력하여 예측 결과를 확인합니다. LLM 결과와 비교하며 모델의 강점과 약점을 파악합니다.
6.  **(반복) '텍스트 직접 입력 테스트'** 에서 모델이 잘못 예측한 경우, **피드백 기능**을 사용하여 올바른 레이블과 함께 데이터를 저장합니다.
    -   **Scikit-learn 모델**의 경우, '즉시 재학습' 버튼으로 모델을 바로 업데이트할 수 있습니다.
    -   **LSTM 모델**의 경우, `feedback_labeled_data.csv`가 생성되므로, 4번 단계로 돌아가 이 파일을 학습 데이터에 포함하여 더 똑똑한 'v2' 모델을 만듭니다.
7.  **[시각화]** 페이지에서 최종적으로 완성된 모델과 데이터를 선택하여, 전체적인 감성 분포와 긍정/부정/중립 리뷰의 핵심 키워드를 워드클라우드로 확인합니다. 이때 '게임별 불용어'나 '임시 불용어'를 추가하여 분석의 질을 높일 수 있습니다.
